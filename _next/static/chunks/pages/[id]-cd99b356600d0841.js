(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{7005:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[id]",function(){return r(8914)}])},8914:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return l},default:function(){return f}});var t=r(5666),i=r.n(t),s=r(5893),o=r(7294),c=(0,r(6186).eI)("https://voimbddomroqjwbbjiwo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNzkyMjI4MywiZXhwIjoxOTUzNDk4MjgzfQ.IbseAyIEcMOwmAObJ4meoqY1Gr5pWCnyE8-O9k5KG6A"),a=r(1664);function u(e,n,r,t,i,s,o){try{var c=e[s](o),a=c.value}catch(u){return void r(u)}c.done?n(a):Promise.resolve(a).then(t,i)}function d(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var s=e.apply(n,r);function o(e){u(s,t,i,o,c,"next",e)}function c(e){u(s,t,i,o,c,"throw",e)}o(void 0)}))}}var l=!0,f=function(e){var n=e.workout,r=(0,o.useState)(),t=r[0],u=r[1],l=(0,o.useState)(!1),f=l[0],v=l[1],h="f7a3658c-6f8f-437b-a799-ce3f00498b74",p=d(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.from("users").select("*").eq("id",n.coach_id).single();case 2:r=e.sent.data,console.log(r),u(r);case 5:case"end":return e.stop()}}),e)}))),w=d(i().mark((function e(){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.from("decisions").select("*").eq("workout_id",n.id).eq("user_id",h);case 2:r=e.sent,(null===(t=r.data)||void 0===t?void 0:t.length)&&v(t[0].decision);case 5:case"end":return e.stop()}}),e)})));(0,o.useEffect)(p,[]),(0,o.useEffect)(w,[]);var x=d(i().mark((function e(){var r,t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.from("decisions").insert([{user_id:h,workout_id:n.id,decision:!0}]);case 2:r=e.sent,t=r.data,s=r.error,alert(JSON.stringify(null!==s&&void 0!==s?s:t,null,2)),(null===t||void 0===t?void 0:t.length)&&v(t[0].decision);case 7:case"end":return e.stop()}}),e)})));return t?(0,s.jsxs)("div",{className:"w-full max-w-3xl mx-auto py-16 px-8",children:[(0,s.jsx)("h1",{className:"text-3xl mb-6",children:null===t||void 0===t?void 0:t.name}),(0,s.jsx)(a.default,{href:t.instagram_url,children:(0,s.jsx)("a",{children:"Instagram"})}),(0,s.jsx)("pre",{children:JSON.stringify(t,null,2)}),(0,s.jsx)("pre",{children:JSON.stringify(n,null,2)}),(0,s.jsx)("button",{onClick:x,disabled:f,children:f?"Already attend":"I'll go"})]}):(0,s.jsx)("p",{children:"Loading"})}}},function(e){e.O(0,[355,774,888,179],(function(){return n=7005,e(e.s=n);var n}));var n=e.O();_N_E=n}]);