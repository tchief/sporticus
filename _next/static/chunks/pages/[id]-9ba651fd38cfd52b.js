(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{7005:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[id]",function(){return r(3938)}])},6541:function(n,e,r){"use strict";r.d(e,{a:function(){return t}});var t=function(){return{id:"f7a3658c-6f8f-437b-a799-ce3f00498b74"}}},3938:function(n,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return f}});var t=r(5666),i=r.n(t),s=r(5893),o=r(7294),c=r(4648),u=r(1664),a=r(6541);function d(n,e,r,t,i,s,o){try{var c=n[s](o),u=c.value}catch(a){return void r(a)}c.done?e(u):Promise.resolve(u).then(t,i)}function l(n){return function(){var e=this,r=arguments;return new Promise((function(t,i){var s=n.apply(e,r);function o(n){d(s,t,i,o,c,"next",n)}function c(n){d(s,t,i,o,c,"throw",n)}o(void 0)}))}}var f=!0;e.default=function(n){var e=n.workout,r=(0,o.useState)(),t=r[0],d=r[1],f=(0,o.useState)(!1),v=f[0],h=f[1],p=(0,a.a)(),w=l(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.O.from("users").select("*").eq("id",e.coach_id).single();case 2:r=n.sent.data,console.log(r),d(r);case 5:case"end":return n.stop()}}),n)}))),x=l(i().mark((function n(){var r,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.O.from("decisions").select("*").eq("workout_id",e.id).eq("user_id",p.id);case 2:r=n.sent,(null===(t=r.data)||void 0===t?void 0:t.length)&&h(t[0].decision);case 5:case"end":return n.stop()}}),n)})));(0,o.useEffect)(w,[]),(0,o.useEffect)(x,[]);var m=l(i().mark((function n(){var r,t,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.O.from("decisions").insert([{user_id:p.id,workout_id:e.id,decision:!0}]);case 2:r=n.sent,t=r.data,s=r.error,alert(JSON.stringify(null!==s&&void 0!==s?s:t,null,2)),(null===t||void 0===t?void 0:t.length)&&h(t[0].decision);case 7:case"end":return n.stop()}}),n)})));return t?(0,s.jsxs)("div",{className:"w-full max-w-3xl mx-auto py-16 px-8",children:[(0,s.jsx)("h1",{className:"text-3xl mb-6",children:null===t||void 0===t?void 0:t.name}),(0,s.jsx)(u.default,{href:t.instagram_url,children:(0,s.jsx)("a",{children:"Instagram"})}),(0,s.jsx)("pre",{children:JSON.stringify(t,null,2)}),(0,s.jsx)("pre",{children:JSON.stringify(e,null,2)}),(0,s.jsx)("button",{onClick:m,children:v?"Already attend":"I'll go"})]}):(0,s.jsx)("p",{children:"Loading"})}},4648:function(n,e,r){"use strict";r.d(e,{O:function(){return t}});var t=(0,r(6186).eI)("https://voimbddomroqjwbbjiwo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNzkyMjI4MywiZXhwIjoxOTUzNDk4MjgzfQ.IbseAyIEcMOwmAObJ4meoqY1Gr5pWCnyE8-O9k5KG6A")}},function(n){n.O(0,[355,774,888,179],(function(){return e=7005,n(n.s=e);var e}));var e=n.O();_N_E=e}]);